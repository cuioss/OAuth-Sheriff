# JWT Integration Test Application Configuration - Maximum Security
# Production-ready configuration with credential providers

# Application metadata
quarkus.application.name=cui-jwt-integration-tests
quarkus.application.version=1.0.0-SNAPSHOT

# HTTP/HTTPS Configuration
quarkus.http.port=8080
quarkus.http.ssl-port=8443
quarkus.http.insecure-requests=disabled

# TLS Configuration with Credential Provider (Most Secure)
# Option 1: PEM files without passwords (Recommended for containers)
quarkus.tls.default.key-store.pem.0.cert=/app/certificates/localhost.crt
quarkus.tls.default.key-store.pem.0.key=/app/certificates/localhost.key

# Option 2: PKCS12 with credential provider (for encrypted keystores)
# quarkus.tls.default.key-store.p12.path=/app/certificates/keystore.p12
# quarkus.tls.default.key-store.p12.credentials-provider=vault-provider

# Advanced TLS Security Settings
quarkus.tls.default.cipher-suites=TLS_AES_256_GCM_SHA384,TLS_CHACHA20_POLY1305_SHA256,TLS_AES_128_GCM_SHA256
quarkus.tls.default.protocols=TLSv1.3
quarkus.tls.default.trust-all=false
quarkus.tls.default.hostname-verification-algorithm=HTTPS

# Certificate Reloading (for certificate rotation)
quarkus.tls.reload-period=PT30M

# Example Credential Provider Configuration (for production)
# quarkus.vault.url=https://vault.example.com:8200
# quarkus.vault.authentication.kubernetes.role=myapp
# quarkus.vault.credentials-provider.ssl.kv-path=secret/ssl

# JWT Configuration for Integration Testing
cui.jwt.enabled=true
cui.jwt.issuers.default.enabled=true
cui.jwt.issuers.default.url=https://test-auth.example.com
cui.jwt.issuers.default.public-key-location=classpath:test-public-key.pem

# Parser Configuration
cui.jwt.parser.max-token-size-bytes=8192
cui.jwt.parser.validate-expiration=false
cui.jwt.parser.validate-issued-at=false
cui.jwt.parser.validate-not-before=false
cui.jwt.parser.leeway-seconds=30

# Health Checks
de.cuioss.jwt.health.enabled=true

# Metrics  
de.cuioss.jwt.metrics.enabled=true

# Logging
quarkus.log.level=INFO
quarkus.log.category."de.cuioss.jwt".level=DEBUG
quarkus.log.category."de.cuioss.jwt.quarkus".level=DEBUG
quarkus.log.category."de.cuioss.jwt.quarkus".min-level=DEBUG
quarkus.log.category."io.quarkus.arc".level=DEBUG
quarkus.log.console.enable=true
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n

# Development settings
quarkus.live-reload.instrumentation=false