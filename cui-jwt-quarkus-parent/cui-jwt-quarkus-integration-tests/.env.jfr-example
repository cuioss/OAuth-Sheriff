# Environment variables for JFR-enabled builds and runtime
# Copy this to .env and modify as needed

# Enable JFR instrumentation during native image build
ENABLE_JFR=true

# JFR runtime options for native image
JFR_OPTS=-XX:+FlightRecorder -XX:StartFlightRecording=filename=/tmp/jfr-output/jwt-native-distroless.jfr,dumponexit=true,duration=300s,settings=profile

# JFR output directory (host directory to store JFR files)
JFR_OUTPUT_DIR=./target/jfr-results

# Example usage:
# 1. Copy this file to .env:  cp .env.jfr-example .env
# 2. Build with JFR: docker compose build
# 3. Run with JFR: docker compose up -d
# 4. Extract JFR: docker cp cui-jwt-integration-tests:/tmp/jfr-output/jwt-native-distroless.jfr ./