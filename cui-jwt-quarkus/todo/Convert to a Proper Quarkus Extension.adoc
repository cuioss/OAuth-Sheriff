= Task 0. Convert to a Proper Quarkus Extension
:toc:
:toclevels: 3
:toc-title: Table of Contents
:sectnums:

include::task-completion-process.adoc[leveloffset=+1,tag=none]

== Overview
[ ] *Priority:* High

*Description:* Convert the module to a proper Quarkus extension with deployment and runtime modules:

. Set up the proper Quarkus extension structure:
   * Create runtime and deployment modules
   * Configure Maven modules correctly
. Add required dependencies:
   * quarkus-extension-processor
   * quarkus-bootstrap-core
   * quarkus-development-mode-spi
   * quarkus-builder
. Create extension descriptor files:
   * META-INF/quarkus-extension.yaml
   * META-INF/quarkus-build-steps.list
. Implement build-time processors:
   * Create deployment module with proper structure
   * Implement build steps with @BuildStep annotation
. Configure the quarkus-bootstrap-maven-plugin
. Create integration tests:
   * Test with @QuarkusTest annotation
   * Verify extension auto-configuration works properly
   * Test native compilation compatibility

*Rationale:* Converting to a proper Quarkus extension is essential for integration with the Quarkus ecosystem. This ensures the extension can be discovered, configured, and used seamlessly in Quarkus applications, with proper build-time processing and runtime behavior.

== Implementation Steps

* [ ] Create multi-module structure with runtime and deployment modules
* [ ] Add required Quarkus extension dependencies
* [ ] Create extension descriptor files
* [ ] Implement build steps for extension registration
* [ ] Configure Maven plugins for extension building
* [ ] Create basic integration tests
* [ ] Document extension structure and architecture

== Task Completion Checklist

*1. Verify Implementation:*
* [ ] Verify all implementation steps are completed
* [ ] Check code against Quarkus and CUI standards
* [ ] Ensure proper error handling and edge cases are covered
* [ ] Verify compatibility with both JVM and native mode

*2. Write Tests:*
* [ ] Write unit tests for all components
* [ ] Create integration tests for real-world scenarios
* [ ] Test with different configuration options
* [ ] Verify error cases and edge conditions

*3. Verify Documentation:*
* [ ] Update all references in README.adoc
* [ ] Update relevant documentation in doc/ directory
* [ ] Check for outdated file paths or references
* [ ] Ensure consistent naming across all documentation
* [ ] Add examples for common use cases

*4. Update Status:*
* [ ] Mark the task as completed with [x]
* [ ] Add any notes about implementation challenges or decisions if needed

*5. Make a Full Build:*
* [ ] Run the full build command: `./mvnw -Ppre-commit clean verify -pl cui-jwt-quarkus` (from project-root)
* [ ] Verify all tests pass
* [ ] Check for any warnings that should be addressed
* [ ] Verify code coverage meets standards

*6. Commit Changes:*
* [ ] Stage all modified files
* [ ] Use the task name as the commit message
* [ ] Include any additional notes about implementation decisions in the commit description
